<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Hello, world!</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form onSubmit="saveToLocalStorage(event)">
        <label>ChooseExpenseamount</label>
        <input type="text" name="username"  id="username"required>
        <label>Choose Description</label>
        <input type="text" name="desc"  id ="Description"required>
        <label for="cars">Choose a category:</label>

        <select name="cars"   id="cars">
            <option value="Fuel">Fuel</option>
            <option value="medicine">Medicine</option>
            <option value="clothes">clothes</option>
            <option value="gym">Gym</option>
        </select>
        <button type="submit ">Submit</button>


    </form>
    <ul id="listofitems"> </ul>
    <script>
  
        function saveToLocalStorage(event) {
            console.log("hi")
            event.preventDefault();
            
            const name = event.target.username.value;
            const des = event.target.desc.value;
            const car = event.target.cars.value;
           localStorage.setItem('name', name);
           localStorage.setItem('desc', des);
           localStorage.setItem('car', cars);
            const obj = {
                name,
                des,
                car
            }
            
        
        
           // localStorage.setItem(obj.name, JSON.stringify(obj))
            showUserOnScreen(obj)

            function showUserOnScreen(obj) {
                const parent = document.getElementById('listofitems')
                const child = document.createElement('li')
                child.textContent = obj.name + ' - ' + obj.des + ' - ' + obj.car
                const deletebtn = document.createElement('input')
                deletebtn.type = "button"
                deletebtn.value = 'delete'
                deletebtn.onclick = () => {
                    localStorage.removeItem(obj.name)
                    parent.removeChild(child)
                }

                const editbtn = document.createElement('input')
                editbtn.type = "button"
                editbtn.value = "Edit"
                editbtn.onclick = () => {
                    localStorage.removeItem(obj.name)
                    parent.removeChild(child)
                    document.getElementById('username').value = obj.name
                   document.getElementById('Description').value = obj.des
                    document.getElementById('cars').value = obj.car
                }
                child.appendChild(editbtn)
                child.appendChild(deletebtn)
                parent.appendChild(child)
            }
            
        }
    </script>
    <script src="inde.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

</body>

</html>